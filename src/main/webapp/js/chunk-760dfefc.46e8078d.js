(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-760dfefc"],{2876:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showFormList,expression:"showFormList"}],attrs:{id:"showformlistid"}},[t._m(0),s("baseList",{attrs:{listColumns:t.listColumns,totalRows:t.totalLHRows,items:t.loanHistoryList,moreDetails:t.moreDetails,newButtonLabel:"Add new loan transaction",showDetailsButton:!1},on:{searchToParent:t.fetchStartRec,fetchD:t.fetchLoanHistory,OpenNew:t.NewPage,OpenCurrent:t.getCurrentPage}})],1)])},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"h-35 d-inline-block",staticStyle:{width:"100%"}},[s("h5",{staticClass:"align-left pad-left"},[t._v("Employee Loan History")])])}],i=s("5530"),r=s("b552"),n=s("2f62"),o={data:function(){return{listColumns:{attr1:{name:"id",label:"Id"},attr2:{name:"empCode",label:"Employee Code"},attr3:{name:"empName",label:"Employee Name"},attr4:{name:"drAmount",label:"Debit Amount"},attr5:{name:"crAmount",label:"Credit Amount"},attr6:{name:"trnDate",label:"Transaction Date"}},moreDetails:{attr1:{name:"trnDescription",label:"Description"},attr2:{name:"trnId",label:"Transaction Id"},attr3:{name:"voucherNo",label:"Voucher No"},attr4:{name:"passage",label:"Passage"},attr5:{name:"",label:"Basic Salary"},attr6:{name:"",label:""}}}},created:function(){console.log("Created ","")},computed:Object(i["a"])({},Object(n["c"])(["loanHistory","showForm","showFormList","totalRows","totalLHRows","startRec","loanHistoryList"])),components:{baseList:r["a"]},methods:Object(i["a"])(Object(i["a"])({},Object(n["b"])(["fetchLoanHistory","setFormDisplay","defaultState","setIsEditMode","fetchEmployee","fetchStartRec"])),{},{getCurrentPage:function(t){this.setFormDisplay(!0),this.setIsEditMode(!1),this.fetchEmployee(t)},NewPage:function(){this.$bvModal.show("bv-modal-addLoan")}})},c=o,u=s("2877"),m=Object(u["a"])(c,a,l,!1,null,null,null);e["default"]=m.exports},b0c0:function(t,e,s){var a=s("83ab"),l=s("5e77").EXISTS,i=s("e330"),r=s("9bf2").f,n=Function.prototype,o=i(n.toString),c=/^\s*function ([^ (]*)/,u=i(c.exec),m="name";a&&!l&&r(n,m,{configurable:!0,get:function(){try{return u(c,o(this))[1]}catch(t){return""}}})},b552:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-container",{attrs:{fluid:""}},[s("b-table",{attrs:{small:"",selectable:"","select-mode":t.selectMode,"selected-variant":"active","show-empty":"",stacked:"md",items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":0,filter:t.filter,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection},on:{"row-selected":t.onRowSelected,"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered,"sort-changed":t.searchFilter},scopedSlots:t._u([{key:"cell(action)",fn:function(e){return[s("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:e.toggleDetails}},[t._v(t._s(e.detailsShowing?"-":"+"))])]}},{key:"cell(selected)",fn:function(e){var a=e.rowSelected;return[a?[s("span",{staticClass:"sr-only"},[t._v("Selected")])]:[s("span",{staticClass:"sr-only"},[t._v("Not selected")])]]}},{key:"row-details",fn:function(e){return[s("b-card",{staticClass:"bg-light text-primary"},[s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"align-left",attrs:{cols:"2"}},[s("b",[t._v(t._s(t.moreDetails.attr1.label)+":")])]),s("b-col",{staticClass:"align-left",attrs:{cols:"2"}},[t._v(t._s(e.item[t.moreDetails.attr1.name]))]),s("b-col",{staticClass:"align-left",attrs:{cols:"2"}},[s("b",[t._v(t._s(t.moreDetails.attr2.label)+":")])]),s("b-col",{staticClass:"align-left",attrs:{cols:"3"}},[t._v(t._s(e.item[t.moreDetails.attr2.name]))])],1),s("b-row",[s("b-col",{staticClass:"align-left",attrs:{cols:"2"}},[s("b",[t._v(t._s(t.moreDetails.attr3.label)+":")])]),s("b-col",{staticClass:"align-left",attrs:{cols:"2"}},[t._v(t._s(e.item[t.moreDetails.attr3.name]))]),s("b-col",{staticClass:"align-left",attrs:{cols:"2"}},[s("b",[t._v(t._s(t.moreDetails.attr4.label)+":")])]),s("b-col",{staticClass:"align-left",attrs:{cols:"2"}},[t._v(t._s(e.item[t.moreDetails.attr4.name]))])],1),s("b-row",[s("b-col",{staticClass:"align-left",attrs:{cols:"2"}},[s("b",[t._v(t._s(t.moreDetails.attr5.label)+":")])]),s("b-col",{staticClass:"align-left",attrs:{cols:"2"}},[t._v(t._s(e.item[t.moreDetails.attr5.name]))]),s("b-col",{staticClass:"align-left",attrs:{cols:"2"}},[t._v(t._s(t._f("formattedDate")(e.item.creationDate)))]),s("b-col",{staticClass:"align-left",attrs:{cols:"2"}},[s("b",[t._v(t._s(t.moreDetails.attr6.label)+":")])]),s("b-col",{staticClass:"align-left",attrs:{cols:"2"}},[t._v(" "+t._s(e.item[t.moreDetails.attr6.name])+" ")])],1)],1)]}},{key:"name",fn:function(e){return[t._v(t._s(e.value.first)+" "+t._s(e.value.last))]}}])},[s("template",{slot:"top-row"},[s("td",[s("b-form-input",{attrs:{placeholder:""},model:{value:t.s1,callback:function(e){t.s1=e},expression:"s1"}})],1),s("td",[s("b-form-input",{attrs:{placeholder:""},model:{value:t.s2,callback:function(e){t.s2=e},expression:"s2"}})],1),s("td",[s("b-form-input",{attrs:{placeholder:""},model:{value:t.s3,callback:function(e){t.s3=e},expression:"s3"}})],1),s("td",[s("b-form-input",{attrs:{placeholder:""},model:{value:t.s4,callback:function(e){t.s4=e},expression:"s4"}})],1),s("td",[s("b-form-input",{attrs:{placeholder:""},model:{value:t.s5,callback:function(e){t.s5=e},expression:"s5"}})],1),s("td",[s("b-form-input",{attrs:{placeholder:""},model:{value:t.s6,callback:function(e){t.s6=e},expression:"s6"}})],1),s("td",[s("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.search_text()}}},[t._v("Filter")])],1)])],2),s("hr"),s("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),[s("div",{staticClass:"d-flex justify-content-start"},[t.showNewButton?s("b-button",{staticClass:"button-style",attrs:{size:"sm",variant:"primary"},on:{click:function(e){return t.openNewForm()}}},[t._v(t._s(t.newButtonLabel))]):t._e(),t.showDetailsButton?s("b-button",{staticClass:"button-style",attrs:{size:"sm",variant:"primary"},on:{click:function(e){return t.details()}}},[t._v(t._s(this.detailBtnLabel))]):t._e(),s("b-col"),s("b-button",{staticClass:"float-right",attrs:{variant:"outline-primary",size:"sm"},on:{click:t.refreshData}},[t._v("Refresh")]),s("b-button",{staticClass:"float-right",attrs:{variant:"outline-primary",size:"sm"},on:{click:t.resetFilter}},[t._v("Clear Filter")]),t.showReturnButton?s("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:t.returnButton}},[t._v(" Close ")]):t._e()],1)]],2)],1)},l=[],i=(s("a9e3"),s("b0c0"),s("d3b7"),s("25f0"),s("c1df")),r=s.n(i),n={props:{listColumns:{},items:{},totalRows:Number,moreDetails:{},showReturnButton:{},returnButtonAction:{type:Function},newButtonLabel:{type:String,default:"New"},showDetailsButton:{type:Boolean,default:!0},showNewButton:{type:Boolean,default:!0},detailBtnLabel:{type:String,default:"Details"}},data:function(){return{show:!0,x:0,selectMode:"single",selected:[],s1:"",s2:"",s3:"",s4:"",s5:"",s6:"",startRec:0,searchData:{sorting:{fieldName:"id",Sort:"DESC"},filter:[{fieldName:"id",value:""}]},fields:[{key:this.listColumns.attr1.name,label:this.listColumns.attr1.label,sortable:!0,sortDirection:"desc",class:"text-left"},{key:this.listColumns.attr2.name,label:this.listColumns.attr2.name,sortable:!0,sortDirection:"desc",class:"text-left"},{key:this.listColumns.attr3.name,label:this.listColumns.attr3.label,sortable:!0,sortDirection:"desc",class:"text-left"},{key:this.listColumns.attr4.name,label:this.listColumns.attr4.label,sortable:!0,sortDirection:"desc",class:"text-left"},{key:this.listColumns.attr5.name,label:this.listColumns.attr5.label,sortable:!0,sortDirection:"desc",class:"text-left",formatter:"convertText"},{key:this.listColumns.attr6.name,label:this.listColumns.attr6.label,sortable:!0,sortDirection:"desc",formatter:function(t){return r()(t).format("DD-MM-YYYY")}},{key:"action",label:"More info"}],currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:null,sortDesc:!1,sortDirection:"asc",filter:null,modalInfo:{title:"",content:""},variants:["primary","secondary","success","warning","danger","info","light","dark"],headerBgVariant:"dark",headerTextVariant:"light",bodyBgVariant:"light",bodyTextVariant:"dark",footerBgVariant:"warning",footerTextVariant:"dark"}},mounted:function(){this.$emit("fetchD",this.searchData)},filters:{formattedDate:function(t){return t?(t=t.toString(),r()(String(t)).format("DD-MM-YYYY")):""}},methods:{convertText:function(t){var e="";if(!t)return"";if(t=t.toString(),"status"!==this.listColumns.attr5.label)return t;switch(t){case"I":e="In Progress";break;case"C":e="Created";break;case"X":e="Cancelled";break;case"R":e="Rejected";break;case"F":e="Completed";break;default:}return e},onRowSelected:function(t){this.selected=t},setColumns:function(){this.x=this.listColumns.attr6.name},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},refreshData:function(){alert("refresh data"),this.searchData={sorting:{fieldName:this.listColumns.attr1.name,Sort:"DESC"},filter:[{fieldName:this.listColumns.attr1.name,value:""}]},this.$emit("fetchD",this.searchData)},resetFilter:function(){this.s1="",this.s2="",this.s3="",this.s4="",this.s5="",this.s6="",this.searchData={sorting:{fieldName:this.listColumns.attr1.name,Sort:"DESC"},filter:[{fieldName:this.listColumns.attr1.name,value:""}]},this.$emit("fetchD",this.searchData)},details:function(){console.log("Selected id:"+this.selected[0].id),this.$emit("OpenCurrent",this.selected[0].id)},openNewForm:function(){this.$emit("OpenNew",0)},searchFilter:function(t){this.searchData={sorting:{fieldName:t.sortBy,Sort:!0===t.sortDesc?"DESC":"ASC"},filter:[{fieldName:this.listColumns.attr1.name,value:this.s1},{fieldName:this.listColumns.attr2.name,value:this.s2},{fieldName:this.listColumns.attr3.name,value:this.s3},{fieldName:this.listColumns.attr4.name,value:this.s4},{fieldName:this.listColumns.attr5.name,value:this.s5},{fieldName:this.listColumns.attr6.name,value:this.s6}]},this.$emit("fetchD",this.searchData),this.sortBy=t.sortBy},search_text:function(){this.searchData={sorting:{fieldName:this.listColumns.attr1.name,Sort:"DESC"},filter:[{fieldName:this.listColumns.attr1.name,value:this.s1},{fieldName:this.listColumns.attr2.name,value:this.s2},{fieldName:this.listColumns.attr3.name,value:this.s3},{fieldName:this.listColumns.attr4.name,value:this.s4},{fieldName:this.listColumns.attr5.name,value:this.s5},{fieldName:this.listColumns.attr6.name,value:this.s6}]},this.$emit("fetchD",this.searchData)},returnButton:function(){this.$emit("returnButtonAction")}},watch:{currentPage:{handler:function(){1===this.currentPage?this.startRec=0:this.startRec=(this.currentPage-1)*this.perPage,this.$emit("searchToParent",this.startRec),this.$emit("fetchD",this.searchData)}}}},o=n,c=s("2877"),u=Object(c["a"])(o,a,l,!1,null,null,null);e["a"]=u.exports}}]);
//# sourceMappingURL=chunk-760dfefc.46e8078d.js.map