(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-402b67b7"],{"0954":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showFormSalaryTransaction,expression:"showFormSalaryTransaction"}],attrs:{id:"showformid"}},[e("monthEndTransaction")],1),e("hr"),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showFormSalaryTransactionList,expression:"showFormSalaryTransactionList"}],attrs:{id:"showformlistid"}},[e("b-row",[e("b-col",{attrs:{cols:"1"}},[e("b-button",{attrs:{squared:"",variant:"secondary"},on:{click:function(a){return t.addSalaryTransaction()}}},[t._v("Add salary")])],1),e("b-col",{staticClass:"my-1",attrs:{cols:"1",offset:"1"}},[t._v(" Division:")]),e("b-col",{staticClass:"my-1",attrs:{cols:"2"}},[e("b-form-select",{attrs:{options:t.divisionData,required:""},model:{value:t.division,callback:function(a){t.division=a},expression:"division"}})],1),e("b-col",{attrs:{cols:"1"}},[t._v(" Department:")]),e("b-col",{attrs:{cols:"2"}},[e("b-form-select",{attrs:{options:t.departmentData,required:""},model:{value:t.department,callback:function(a){t.department=a},expression:"department"}})],1),e("b-col",{attrs:{cols:"1"}},[e("button",{staticClass:"button2",on:{click:function(a){return t.queryTransactionList()}}},[e("i",{staticClass:"fa fa-search"})])]),e("b-col",{attrs:{cols:"2"}},[e("h5",[e("b-badge",{attrs:{variant:"secondary"}},[t._v(" Salary for: "+t._s(this.activeMonth.monthName)+","+t._s(this.activeMonth.year)+" ")])],1)])],1),e("hr"),e("div",{directives:[{name:"show",rawName:"v-show",value:t.empList,expression:"empList"}],attrs:{id:"empList"}},[e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"8"}},[e("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3",label:"Filter"}},[e("b-input-group",[e("b-form-input",{attrs:{placeholder:"Type to Search"},model:{value:t.filter,callback:function(a){t.filter=a},expression:"filter"}}),e("b-input-group-append",[e("b-button",{attrs:{disabled:!t.filter},on:{click:function(a){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),e("b-col",{staticClass:"my-1",attrs:{md:"3"}},[e("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3",label:"Per page"}},[e("b-form-select",{attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(a){t.perPage=a},expression:"perPage"}})],1)],1)],1),e("b-table",{attrs:{striped:"","head-variant":"light",items:t.salaryTransactions,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter},scopedSlots:t._u([{key:"row-details",fn:function(a){return[e("b-card",[e("ul",t._l(a.item,(function(a,s){return e("li",{key:s},[t._v(" "+t._s(s)+": "+t._s(a)+" ")])})),0)])]}},{key:"cell(action)",fn:function(a){return[e("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(e){return t.details(a.item)}}},[t._v(t._s(a.detailsShowing?"Hide":"Show")+" ")])]}}])},[e("colgroup",[e("col"),e("col")])]),e("hr"),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"6"}},[e("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(a){t.currentPage=a},expression:"currentPage"}})],1)],1)],1)],1)])},o=[],r=e("2f62"),l=e("c1df"),i=e.n(l),n=e("2d59"),c={props:{setActiveTab:{type:Function}},data(){return{showMET:!1,empList:!0,selectMode:"single",division:{},department:{},selected:[],divisionData:[{text:"All",value:0},{text:"Press",value:101},{text:"Publishing",value:102}],departmentData:[{text:"All",value:0}],salaryTransactions:[],totalRows:1,fields:[{key:"selected",label:""},{key:"id",label:"Employee Code",sortable:!0,sortDirection:"desc",class:"text-left",formatter:"formatData"},{key:"empName",label:"Employee Name",sortable:!0,sortDirection:"desc",class:"text-left emp-name",formatter:"formatData"},{key:"basicSalary",label:"Basic Salary",sortable:!0,sortDirection:"desc",class:"text-right",formatter:"formatData"},{key:"otTotal",label:"Overtime",sortable:!0,sortDirection:"desc",class:"text-right",formatter:"formatData"},{key:"rentAllowance",label:"Rent Allowance",sortable:!0,sortDirection:"desc",class:"text-right",formatter:"formatData"},{key:"travelAllowance",label:"Travel Allowance",sortable:!0,sortDirection:"desc",class:"text-right",formatter:"formatData"},{key:"spageAllowance",label:"Special Allowance",sortable:!0,sortDirection:"desc",class:"text-right",formatter:"formatData"},{key:"nShiftAllowance",label:"Night shift allowance",sortable:!0,sortDirection:"desc",class:"text-right",formatter:"formatData"},{key:"otherAllowanceTotal",label:"Other Allowance",sortable:!0,sortDirection:"desc",class:"text-right",formatter:"formatData"},{key:NaN,label:"OT total",sortable:!0,sortDirection:"desc",class:"text-right",formatter:"formatData"},{key:"subTotal",label:"Sub total",sortable:!0,sortDirection:"desc",class:"text-right",formatter:"formatData"},{key:"loanDeduction",label:"Loan Deduction",sortable:!0,sortDirection:"desc",class:"text-right",formatter:"formatData"},{key:"hbankLoan",label:"Housing Bank Loan",sortable:!0,sortDirection:"desc",class:"text-right",formatter:"formatData"},{key:"gosiAmt",label:"Gosi Amount",sortable:!0,sortDirection:"desc",class:"text-right",formatter:"formatData"},{key:"lateHrs",label:"Late Hours",sortable:!0,sortDirection:"desc",class:"text-right",formatter:"formatData"},{key:"otherDeductionTotal",label:"Other Deduction",sortable:!0,sortDirection:"desc",class:"text-right",formatter:"formatData"},{key:"netSalary",label:"Net Salary",sortable:!0,sortDirection:"desc",class:"text-right",formatter:"formatData"},{key:"action",label:"Action"}],currentPage:1,perPage:5,pageOptions:[2,5,10,15],filter:null,modalInfo:{title:"",content:""}}},mounted(){this.fetchActiveMonth(),this.fetchSalaryTransactions()},components:{monthEndTransaction:n["default"]},computed:{...Object(r["c"])(["employee","showMETform","employeeList","showFormSalaryTransaction","showFormSalaryTransactionList","activeMonth"])},methods:{...Object(r["b"])(["METformDisplay","fetchemployeeMET","monthEndTransactionDisplay","fetchActiveMonth"]),details(t){console.log("call setDisplay",t.id),this.fetchemployeeMET(t.id),this.$emit("setActiveTab")},addSalaryTransaction(){this.monthEndTransactionDisplay()},fetchSalaryTransactions(){const t="http://localhost:8080/payroll/api/v1/salaryList";fetch(t).then(t=>t.json()).then(t=>{this.salaryTransactions=t,this.totalRows=this.salaryTransactions.length}).catch(t=>console.error(t))},queryTransactionList(){const t=`http://localhost:8080/payroll/api/v1/salaryList/${this.division}/${this.department}`;fetch(t).then(t=>t.json()).then(t=>{this.salaryTransactions=t,this.totalRows=this.salaryTransactions.length}).catch(t=>console.error(t))},fetchDepartmentList(){const t="http://localhost:8080/payroll/api/v1/department";fetch(t).then(t=>t.json()).then(t=>{this.departmentData=t,this.totalRows=this.departmentData.length}).catch(t=>console.error(t))},fetchDepartmentListForDivision(t){let a=[];this.departmentData=[{text:"All",value:0}];const e="http://localhost:8080/payroll/api/v1/department/"+t;fetch(e).then(t=>t.json()).then(t=>{a=t,a.forEach(t=>this.departmentData.push({text:t.departmentName,value:t.id})),this.totalRows=a.length}).catch(t=>console.error(t))},formatData(t,a){return a.includes("date")||a.includes("Date")?(t=t.toString(),i()(String(t)).format("DD-MM-YYYY")):"id"===a?t:"empName"===a?t.substring(0,100):isNaN(t)?t:(console.log("format "+a),new Intl.NumberFormat(void 0,{minimumFractionDigits:3}).format(t))}},watch:{division:{handler:function(){this.fetchDepartmentListForDivision(this.division)}}}},m=c,h=(e("e941"),e("2877")),d=Object(h["a"])(m,s,o,!1,null,"ecfc23bc",null);a["default"]=d.exports},"64d36":function(t,a,e){},e941:function(t,a,e){"use strict";e("64d36")}}]);
//# sourceMappingURL=chunk-402b67b7.c2f4f61f.js.map