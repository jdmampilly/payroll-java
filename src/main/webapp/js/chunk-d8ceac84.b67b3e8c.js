(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d8ceac84"],{1721:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-div"},[s("br"),s("b-row",{staticClass:"mt-1"},[s("b-col",{attrs:{cols:"8"}},[s("b-table",{staticClass:"table table-bordered table-sm",attrs:{selectable:"","select-mode":t.selectMode,striped:"",hover:"",items:t.items,fields:t.fields},on:{"row-selected":t.onRowSelected}})],1),s("b-col",{attrs:{cols:"4"}},[s("b-row",{staticClass:"mt-1"},[s("b-col",{staticClass:"col-left",attrs:{cols:"4",offset:"2"}},[s("label",{attrs:{for:"input1"}},[t._v("Month:")])]),s("b-col",{attrs:{cols:"5"}},[s("b-form-input",{staticClass:"form-control form-control-sm required-color",attrs:{id:"input1",required:""},model:{value:t.monthData.month,callback:function(e){t.$set(t.monthData,"month",e)},expression:"monthData.month"}})],1)],1),s("b-row",{staticClass:"mt-1"},[s("b-col",{staticClass:"col-left",attrs:{cols:"4",offset:"2"}},[s("label",{attrs:{for:"input2"}},[t._v("Month Name:")])]),s("b-col",{attrs:{cols:"5"}},[s("b-form-input",{staticClass:"form-control form-control-sm required-color",attrs:{id:"input2",required:""},model:{value:t.monthData.monthName,callback:function(e){t.$set(t.monthData,"monthName",e)},expression:"monthData.monthName"}})],1)],1),s("b-row",{staticClass:"mt-1"},[s("b-col",{staticClass:"col-left",attrs:{cols:"4",offset:"2"}},[s("label",{attrs:{for:"input3"}},[t._v("Year:")])]),s("b-col",{attrs:{cols:"5"}},[s("b-form-input",{staticClass:"form-control form-control-sm required-color",attrs:{id:"input4",required:""},model:{value:t.monthData.year,callback:function(e){t.$set(t.monthData,"year",e)},expression:"monthData.year"}})],1)],1),s("b-row",{staticClass:"mt-1"},[s("b-col",{staticClass:"col-left",attrs:{cols:"4",offset:"2"}},[s("label",{attrs:{for:"input5"}},[t._v("Days:")])]),s("b-col",{attrs:{cols:"5"}},[s("b-form-input",{staticClass:"form-control form-control-sm required-color",attrs:{id:"input5",required:""},model:{value:t.monthData.days,callback:function(e){t.$set(t.monthData,"days",e)},expression:"monthData.days"}})],1)],1),s("b-row",{staticClass:"mt-1"},[s("b-col",{staticClass:"col-left",attrs:{cols:"4",offset:"2"}},[s("label",{attrs:{for:"input6"}},[t._v("Status:")])]),s("b-col",{attrs:{cols:"5"}},[s("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-custom-select-pref",options:[{text:"current",value:"current"},{text:"closed",value:"closed"},{text:"open",value:"open"}],value:null},model:{value:t.monthData.status,callback:function(e){t.$set(t.monthData,"status",e)},expression:"monthData.status"}})],1)],1),s("br"),s("b-row",[s("b-col",{attrs:{offset:"2",cols:"7"}},[s("b-button",{staticClass:"mr-1",attrs:{variant:"dark"},on:{click:function(e){return e.preventDefault(),t.save()}}},[t._v("Update Month Data")])],1)],1)],1)],1)],1)},o=[],l=s("bc3a"),r=s.n(l),n={components:{},data(){return{monthData:{},selected:{},selectMode:"single",errors:[],fields:[{key:"month",label:"Month",type:"text",sortable:!0,placeholder:"Enter Month...",class:"name-col"},{key:"monthName",label:"Month Name",type:"text",sortable:!0,placeholder:"Enter Name...",class:"name-col"},{key:"year",label:"Year",type:"text",sortable:!0,placeholder:"Enter Name...",class:"name-col"},{key:"days",label:"No. of Days",type:"text",sortable:!0,placeholder:"Enter Name...",class:"name-col"},{key:"status",label:"Status",type:"select",editable:!0,placeholder:"Enter Name...",class:"name-col",options:[{value:"closed",text:"closed"},{value:"current",text:"current"}]}],items:[]}},mounted(){this.fetchMonthData()},methods:{onRowSelected(t){this.selected=t[0],this.monthData=this.selected},checkForm:function(t){if(console.log("checking form data"),this.errors=[],console.log(this.monthData.month<1||this.monthData.month>12),(this.monthData.month<1||this.monthData.month>12)&&(this.errors.push("Value of month should be between 1 and 12"),console.log("Ã©rror")),console.log(!this.errors.length),!this.errors.length)return!0;this.errors.unshift("Incorrent values, please check the following .."),this.$toasted.show(this.errors,{theme:"bubble",position:"top-right",duration:5e3})},houseKeeping(){this.errors=[]},async handleInput(t){console.log(t.item.status),this.monthData={id:t.item.id,month:t.item.month,monthName:t.item.monthName,year:t.item.year,days:t.item.days,status:t.item.status},this.save()},async save(){this.checkForm(),this.errors.length||(console.log("saving"),await this.updateData()),this.houseKeeping()},async updateData(){alert("update month");const t="http://localhost:8080/payroll/api/v1/month";await r.a.post(t,this.items,{headers:{"Content-Type":"application/json"}}).then(t=>{this.msg={},this.isBusy=!this.isBusy,this.$toasted.show("Month data updated sucessfully!",{theme:"bubble",position:"top-right",duration:5e3})}).catch(t=>{console.log(t.response.data),this.msg="Error:"+JSON.stringify(t.response.data.errorMessage)})},async fetchMonthData(){const t="http://localhost:8080/payroll/api/v1/month";await r.a.get(t).then(t=>t).then(t=>{this.items=t.data,this.msg={}}).catch(t=>{console.log(t.response.data),this.msg=t.response.data.errorMessage})}}},c=n,i=(s("45b7"),s("2877")),h=Object(i["a"])(c,a,o,!1,null,"336f64b9",null);e["default"]=h.exports},"45b7":function(t,e,s){"use strict";s("b167")},b167:function(t,e,s){}}]);
//# sourceMappingURL=chunk-d8ceac84.b67b3e8c.js.map