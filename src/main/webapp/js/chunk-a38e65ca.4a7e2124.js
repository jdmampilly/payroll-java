(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a38e65ca"],{"0954":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("hr"),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{cols:"1"}},[t._v(" Division:")]),a("b-col",{staticClass:"my-1",attrs:{cols:"2"}},[a("b-form-select",{attrs:{options:t.divisionData,required:""},model:{value:t.division,callback:function(e){t.division=e},expression:"division"}})],1),a("b-col",{attrs:{cols:"1"}},[t._v(" Department:")]),a("b-col",{attrs:{cols:"2"}},[a("b-form-select",{attrs:{options:t.departmentData,required:""},model:{value:t.department,callback:function(e){t.department=e},expression:"department"}})],1),a("b-col",{attrs:{cols:"2"}},[a("b-button",{on:{click:function(e){return t.queryTransactionList()}}},[t._v("Show")])],1)],1),a("hr"),a("div",{directives:[{name:"show",rawName:"v-show",value:t.empList,expression:"empList"}],attrs:{id:"empList"}},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"8"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3",label:"Filter"}},[a("b-input-group",[a("b-form-input",{attrs:{placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{md:"3"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3",label:"Per page"}},[a("b-form-select",{attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{items:t.salaryTransactions,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter},scopedSlots:t._u([{key:"row-details",fn:function(e){return[a("b-card",[a("ul",t._l(e.item,(function(e,s){return a("li",{key:s},[t._v(t._s(s)+": "+t._s(e))])})),0)])]}},{key:"cell(action)",fn:function(e){return[a("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(a){return t.details(e.item)}}},[t._v(t._s(e.detailsShowing?"Hide":"Show")+" ")])]}}])},[a("colgroup",[a("col"),a("col")])]),a("hr"),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)},l=[],o=a("2f62"),r=a("c1df"),i=a.n(r),n={props:{setActiveTab:{type:Function}},data(){return{showMET:!1,empList:!0,selectMode:"single",division:{},department:{},selected:[],divisionData:[{text:"All",value:0},{text:"Press",value:101},{text:"Publishing",value:102}],departmentData:[{text:"All",value:0}],salaryTransactions:[],totalRows:1,fields:[{key:"selected",label:""},{key:"id",label:"Employee Code",sortable:!0,sortDirection:"desc",class:"text-left"},{key:"empName",label:"Employee Name",sortable:!0,sortDirection:"desc",class:"text-left"},{key:"basicSalary",label:"Basic Salary",sortable:!0,sortDirection:"desc",class:"text-right"},{key:"rentAllowance",label:"Rent Allowance",sortable:!0,sortDirection:"desc",class:"text-right"},{key:"travelAllowance",label:"Travel Allowance",sortable:!0,sortDirection:"desc",class:"text-right"},{key:"spageAllowance",label:"Special Allowance",sortable:!0,sortDirection:"desc",class:"text-right"},{key:"nShiftAllowance",label:"Night shift allowance",sortable:!0,sortDirection:"desc",class:"text-right"},{key:"otherAllowanceTotal",label:"Other Allowance",sortable:!0,sortDirection:"desc",class:"text-right"},{key:"otTotal",label:"OT total",sortable:!0,sortDirection:"desc",class:"text-right"},{key:"subTotal",label:"Sub total",sortable:!0,sortDirection:"desc",class:"text-right"},{key:"loanDeduction",label:"Loan Deduction",sortable:!0,sortDirection:"desc",class:"text-right"},{key:"hBankLoan",label:"Housing Bank Loan",sortable:!0,sortDirection:"desc",class:"text-right"},{key:"gosiAmt",label:"Gosi Amount",sortable:!0,sortDirection:"desc",class:"text-right"},{key:"lateHrs",label:"Late Hours",sortable:!0,sortDirection:"desc",class:"text-right"},{key:"otherDeductionTotal",label:"Other Deduction",sortable:!0,sortDirection:"desc",class:"text-right"},{key:"netSalary",label:"Net Salary",sortable:!0,sortDirection:"desc",class:"text-right"},{key:"action",label:"Action"}],currentPage:1,perPage:5,pageOptions:[2,5,10,15],filter:null,modalInfo:{title:"",content:""}}},mounted(){this.fetchSalaryTransactions()},computed:{...Object(o["c"])(["employee","showMETform","employeeList"])},methods:{...Object(o["b"])(["METformDisplay","fetchemployeeMET"]),details(t){console.log("call setDisplay",t.id),this.fetchemployeeMET(t.id),this.$emit("setActiveTab")},fetchSalaryTransactions(){const t="http://localhost:8080/payroll/api/v1/salaryList";fetch(t).then(t=>t.json()).then(t=>{this.salaryTransactions=t,this.totalRows=this.salaryTransactions.length}).catch(t=>console.error(t))},queryTransactionList(){const t=`http://localhost:8080/payroll/api/v1/salaryList/${this.division}/${this.department}`;fetch(t).then(t=>t.json()).then(t=>{this.salaryTransactions=t,this.totalRows=this.salaryTransactions.length}).catch(t=>console.error(t))},fetchDepartmentList(){const t="http://localhost:8080/payroll/api/v1/department";fetch(t).then(t=>t.json()).then(t=>{this.departmentData=t,this.totalRows=this.departmentData.length}).catch(t=>console.error(t))},fetchDepartmentListForDivision(t){let e=[];this.departmentData=[{text:"All",value:0}];const a="http://localhost:8080/payroll/api/v1/department/"+t;fetch(a).then(t=>t.json()).then(t=>{e=t,e.forEach(t=>this.departmentData.push({text:t.departmentName,value:t.id})),this.totalRows=e.length}).catch(t=>console.error(t))},formatData(t,e){return t?e.includes("date")||e.includes("Date")?(t=t.toString(),i()(String(t)).format("DD-MM-YYYY")):t:""}},watch:{division:{handler:function(){this.fetchDepartmentListForDivision(this.division)}}}},c=n,h=(a("e757"),a("2877")),d=Object(h["a"])(c,s,l,!1,null,"39231778",null);e["default"]=d.exports},d5fc:function(t,e,a){},e757:function(t,e,a){"use strict";a("d5fc")}}]);
//# sourceMappingURL=chunk-a38e65ca.4a7e2124.js.map