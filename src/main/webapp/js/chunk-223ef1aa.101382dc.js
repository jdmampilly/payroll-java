(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-223ef1aa"],{"40f0":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-div"},[r("br"),r("b-row",[r("div",{staticClass:"center"},[r("h5",{staticClass:"center"},[e._v("Reports list")])])]),r("br"),r("div",{staticClass:"table-div"},[r("b-container",{attrs:{fluid:""}},[r("b-table",{staticClass:"table table-bordered table-sm",attrs:{striped:"","thead-class":"thead-light",selectable:"","select-mode":e.selectMode,"selected-variant":"warning",items:e.reportItems,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,hover:!0},on:{"row-selected":e.onRowSelected,"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"cell(selected)",fn:function(t){var a=t.rowSelected;return[a?[r("span",{staticClass:"sr-only"},[e._v("Selected")])]:[r("span",{staticClass:"sr-only"},[e._v("Not selected")])]]}}])}),r("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1),r("b-form-row",{directives:[{name:"show",rawName:"v-show",value:e.dateParameter,expression:"dateParameter"}]},[r("b-col",{attrs:{cols:"2"}},[r("b-form-group",{attrs:{label:"FromDate","label-for":"rptFromDate","label-align":"left"}},[r("b-input-group",[r("datepicker",{attrs:{placeholder:"Select Date",format:"dd/MM/yyyy","input-class":"form-control form-control-sm styleLine"},model:{value:e.rptFromDate,callback:function(t){e.rptFromDate=t},expression:"rptFromDate"}})],1)],1)],1),r("b-col",{attrs:{cols:"2"}},[r("b-form-group",{attrs:{label:"To Date","label-for":"rptToDate","label-align":"left"}},[r("b-input-group",[r("datepicker",{attrs:{placeholder:"Select Date",format:"dd/MM/yyyy","input-class":"form-control form-control-sm styleLine"},model:{value:e.rptToDate,callback:function(t){e.rptToDate=t},expression:"rptToDate"}})],1)],1)],1)],1),r("b-form-row",{directives:[{name:"show",rawName:"v-show",value:e.departmentParameter,expression:"departmentParameter"}]},[r("b-col",{attrs:{cols:"2"}},[r("b-form-group",{staticClass:"mb-1 textBoxWidth",attrs:{label:"Division","label-for":"divCode","label-align":"left"}},[r("b-input-group",[r("b-form-input",{staticClass:"form-control form-control-sm styleLine",staticStyle:{"padding-left":"1px"},attrs:{id:"divCode"},model:{value:e.divCode,callback:function(t){e.divCode=t},expression:"divCode"}})],1)],1)],1),r("b-col",{attrs:{cols:"2"}},[r("b-form-group",{staticClass:"mb-1 textBoxWidth",attrs:{label:"Department","label-for":"rptDepartment","label-align":"left"}},[r("b-input-group",[r("b-form-input",{staticClass:"form-control form-control-sm styleLine",staticStyle:{"padding-left":"1px"},attrs:{id:"rptDepartment"},model:{value:e.deptCode,callback:function(t){e.deptCode=t},expression:"deptCode"}})],1)],1)],1)],1),r("b-form-row",{directives:[{name:"show",rawName:"v-show",value:e.employeeParameter,expression:"employeeParameter"}]},[r("b-col",{attrs:{cols:"2"}},[r("b-form-group",{staticClass:"mb-1 textBoxWidth",attrs:{label:"Employee","label-for":"empCode","label-align":"left"}},[r("b-input-group",[r("b-form-input",{staticClass:"form-control form-control-sm styleLine",staticStyle:{"padding-left":"5px"},attrs:{id:"empCode"},model:{value:e.empCode,callback:function(t){e.empCode=t},expression:"empCode"}})],1)],1)],1)],1),r("hr"),r("b-form-row",[r("b-col",{attrs:{cols:"2"}},[r("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.runReport()}}},[e._v(" "+e._s("Show Report"))])],1)],1)],1)},o=[],s=r("bc3a"),l=r.n(s),n=r("2f62"),p=r("fa33");const i=[];var d={data(){return{directorateList:[],errors:[],selectMode:"single",selected:[],selectedReport:"",rptFromDate:"",rptToDate:"",reportItems:[],dateParameter:!1,deptCode:"",divCode:"",empCode:0,departmentParameter:!1,employeeParameter:!1,searchDepartment:{attr1:{name:"reportId",label:"Report Id"},attr2:{name:"reportName",label:"Report Name"}},fields:[{key:"reportId",label:"Report Id",sortable:!0,sortDirection:"desc",class:"text-left"},{key:"reportDescription",label:"Report Description",sortable:!0,sortDirection:"desc",class:"text-left",tdClass:"col-width-300"}],currentPage:1,perPage:10,totalRows:i.length,pageOptions:[5,10,15],sortBy:null,sortDesc:!1,sortDirection:"asc",filter:null}},computed:{...Object(n["c"])([])},components:{Datepicker:p["a"]},mounted(){this.getReportList()},methods:{async getReportList(){const e="http://localhost:8080/payroll/api/v1/reports";await l.a.get(e,{headers:{"Content-Type":"application/json"}}).then(e=>{this.reportItems=e.data,this.totalRows=this.reportItems.length}).catch(e=>{console.log("Error "+e.response)})},onFiltered(e){this.totalRows=e.length,this.currentPage=1},getCurrentPage:function(e){},reSetParameterDisplay(){this.dateParameter=!1,this.departmentParameter=!1,this.employeeParameter=!1},onRowSelected(e){if(this.selectedReport=e[0].reportName,"undefined"!==typeof e[0])switch(this.selectedReport){case"prs":this.reSetParameterDisplay();break;case"prs_p":this.reSetParameterDisplay(),this.departmentParameter=!0;break;case"llo":this.reSetParameterDisplay();break;case"pslip-i":this.reSetParameterDisplay(),this.employeeParameter=!0;break;case"pslip-all":this.reSetParameterDisplay();break;default:break}},checkParameter(e){switch(this.errors=[],e){case"XXCAS003":this.rptTenderNo||this.errors.push("Tender No");break;case"XXCAS004":break;default:break}if(!this.errors.length)return!0;this.errors.unshift("Report parameters are required, please enter following ")},formatDate(e){var t=e.getMonth()+1;return e.getFullYear()+"-"+t+"-"+e.getDate()},runReport:function(){const e=this.selectedReport;console.log("selected report:"+e);let t="",r="";if(this.errors.length)alert(this.errors);else switch(e){case"prs":window.open("http://aak-payroll/ReportServer?/"+e+"&rs:Command=Render&rs:format=PDF");break;case"prs_p":window.open(`http://aak-payroll/ReportServer?/${e}&rs:Command=Render&rs:format=PDF&divCode=${this.divCode}&deptCode=${this.deptCode}`);break;case"llo":window.open("http://aak-payroll/ReportServer?/"+e+"&rs:Command=Render&rs:format=PDF");break;case"llo-new":window.open("http://aak-payroll/ReportServer?/"+e+"&rs:Command=Render&rs:format=PDF");break;case"pslip-i":window.open(`http://aak-payroll/ReportServer?/${e}&rs:Command=Render&rs:format=PDF&empCode=${this.empCode}`);break;case"pslip-all":window.open("http://aak-payroll/ReportServer?/"+e+"&rs:Command=Render&rs:format=PDF");break;case"XXCAS004":t=this.formatDate(this.rptFromDate),r=this.formatDate(this.rptToDate),window.open(`http://aak-payroll/ReportServer?/${e}&rs:Command=Render&rs:format=PDF&P_DIR_CODE=${this.rptDirectorateCode}&P_DIR_CODE=${this.rptDirectorateCode}&p_from_dt=${t}&p_to_dt=${r}`);break;case"XXCAS005":t=this.formatDate(this.rptFromDate),r=this.formatDate(this.rptToDate),window.open(`http://aak-payroll/ReportServer?/${e}&rs:Command=Render&rs:format=PDF&P_TYPE=${this.rptType}&p_from_dt=${t}&p_to_dt=${r}`);break;case"XXCAS006":t=this.formatDate(this.rptFromDate),r=this.formatDate(this.rptToDate),window.open(`http://aak-payroll/ReportServer?/${e}&rs:Command=Render&rs:format=PDF&p_from_dt=${t}&p_to_dt=${r}`);break;case"XXCAS008":t=this.formatDate(this.rptFromDate),r=this.formatDate(this.rptToDate),window.open(`http://aak-payroll/ReportServer?/${e}&rs:Command=Render&rs:format=PDF&p_from_dt=${t}&p_to_dt=${r}`);break;case"XXCAS011":window.open(`http://aak-payroll/ReportServer?/${e}&rs:Command=Render&rs:format=PDF&p_ten_no=${this.tenderNo}`);break;case"XXCAS012":window.open(`http://aak-payroll/ReportServer?/${e}&rs:Command=Render&rs:format=PDF&p_ten_no=${this.tenderNo}`);break;case"XXCAS013":window.open(`http://aak-payroll/ReportServer?/${e}&rs:Command=Render&rs:format=PDF&p_ten_no=${this.tenderNo}`);break;case"XXCAS041":window.open(`http://aak-payroll/ReportServer?/${e}&rs:Command=Render&rs:format=PDF&p_ten_no=${this.tenderNo}`);break}}}},c=d,m=(r("bb8c"),r("2877")),f=Object(m["a"])(c,a,o,!1,null,"4a66e5b6",null);t["default"]=f.exports},a168:function(e,t,r){},bb8c:function(e,t,r){"use strict";r("a168")}}]);
//# sourceMappingURL=chunk-223ef1aa.101382dc.js.map