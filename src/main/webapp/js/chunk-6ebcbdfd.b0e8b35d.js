(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ebcbdfd"],{2881:function(e,t,o){"use strict";o.r(t);var l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"main-div"},[e._m(0),o("hr"),o("h5",{staticClass:"col-left"},[o("b-badge",[e._v("Personal information")])],1),o("b-row",{staticClass:"mt-1"},[o("b-col",{staticClass:"col-left",attrs:{cols:"1",offset:"1"}},[o("label",{attrs:{for:"input-code"}},[e._v("Code:")])]),o("b-col",{attrs:{cols:"2"}},[o("b-form-input",{staticClass:"form-control form-control-sm required-color",attrs:{id:"input-code",placeholder:"Code"},on:{change:e.getEmployee},model:{value:e.employee.id,callback:function(t){e.$set(e.employee,"id",t)},expression:"employee.id"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:"input-name"}},[e._v("Name:")])]),o("b-col",{attrs:{cols:"5"}},[o("b-form-input",{staticClass:"form-control form-control-sm required-color",attrs:{id:"empName",placeholder:"Enter your name",required:""},model:{value:e.employee.empName,callback:function(t){e.$set(e.employee,"empName",t)},expression:"employee.empName"}})],1)],1),o("b-row",{staticClass:"mt-1"},[o("b-col",{staticClass:"col-left",attrs:{cols:"1",offset:"1"}},[o("label",{attrs:{for:"input-birthDate"}},[e._v("Birth Date:")])]),o("b-col",{attrs:{cols:"2"}},[o("datepicker",{attrs:{placeholder:"Select Date",format:"dd/MM/yyyy","input-class":"form-control form-control-sm styleLine"},model:{value:e.employee.birthDate,callback:function(t){e.$set(e.employee,"birthDate",t)},expression:"employee.birthDate"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:"input-nationality"}},[e._v("Nationality:")])]),o("b-col",{attrs:{cols:"5"}},[o("b-form-input",{staticClass:"form-control form-control-sm",attrs:{id:"input-nationality",placeholder:"Enter your nationality"},model:{value:e.employee.nationality,callback:function(t){e.$set(e.employee,"nationality",t)},expression:"employee.nationality"}})],1)],1),o("b-row",{staticClass:"mt-1"},[o("b-col",{staticClass:"col-left",attrs:{cols:"1",offset:"1"}},[o("label",{attrs:{for:"input-passportNo"}},[e._v("Passport No.:")])]),o("b-col",{attrs:{cols:"2"}},[o("b-form-input",{staticClass:"form-control form-control-sm",attrs:{id:"input-passportNo",placeholder:"passport number"},model:{value:e.employee.passportNo,callback:function(t){e.$set(e.employee,"passportNo",t)},expression:"employee.passportNo"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:"input-passportIssueDate"}},[e._v("Issue Dt:")])]),o("b-col",{attrs:{cols:"2"}},[o("datepicker",{attrs:{placeholder:"Select Date",format:"dd/MM/yyyy","input-class":"form-control form-control-sm styleLine"},model:{value:e.employee.passportIssuedDate,callback:function(t){e.$set(e.employee,"passportIssuedDate",t)},expression:"employee.passportIssuedDate"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:"input-passportExpirtyDate"}},[e._v("Expiry Date:")])]),o("b-col",{attrs:{cols:"2"}},[o("datepicker",{attrs:{placeholder:"Select Date",format:"dd/MM/yyyy","input-class":"form-control form-control-sm styleLine"},model:{value:e.employee.passportExpiryDate,callback:function(t){e.$set(e.employee,"passportExpiryDate",t)},expression:"employee.passportExpiryDate"}})],1)],1),o("b-row",{staticClass:"mt-1"},[o("b-col",{staticClass:"col-left",attrs:{cols:"1",offset:"1"}},[o("label",{attrs:{for:"input-cprNo"}},[e._v("CPR Number:")])]),o("b-col",{attrs:{cols:"2"}},[o("b-form-input",{staticClass:"form-control form-control-sm required-color",attrs:{id:"input-cprNo",placeholder:"CPR no",required:""},model:{value:e.employee.cprNo,callback:function(t){e.$set(e.employee,"cprNo",t)},expression:"employee.cprNo"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:"input-cprIssueDate"}},[e._v("Issue Date:")])]),o("b-col",{attrs:{cols:"2"}},[o("datepicker",{attrs:{placeholder:"Select Date",format:"dd/MM/yyyy","input-class":"form-control form-control-sm styleLine"},model:{value:e.employee.cprIssuedDate,callback:function(t){e.$set(e.employee,"cprIssuedDate",t)},expression:"employee.cprIssuedDate"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:"input-cprExpiryDate"}},[e._v("Expiry Date:")])]),o("b-col",{attrs:{cols:"2"}},[o("datepicker",{attrs:{placeholder:"Select Date",format:"dd/MM/yyyy","input-class":"form-control form-control-sm styleLine"},model:{value:e.employee.cprExpiryDate,callback:function(t){e.$set(e.employee,"cprExpiryDate",t)},expression:"employee.cprExpiryDate"}})],1)],1),o("hr"),o("h5",{staticClass:"col-left"},[o("b-badge",[e._v("Work information")])],1),o("b-row",{staticClass:"mt-1"},[o("b-col",{staticClass:"col-left",attrs:{cols:"1",offset:"1"}},[o("label",{attrs:{for:"input-On Boarding Date"}},[e._v("Service Date:")])]),o("b-col",{attrs:{cols:"2"}},[o("datepicker",{attrs:{placeholder:"Select Date",format:"dd/MM/yyyy","input-class":"form-control form-control-sm styleLine required-color"},model:{value:e.employee.onBoardingDate,callback:function(t){e.$set(e.employee,"onBoardingDate",t)},expression:"employee.onBoardingDate"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:"input-Off Boarding Date"}},[e._v("Service end:")])]),o("b-col",{attrs:{cols:"2"}},[o("datepicker",{attrs:{placeholder:"Select Date",format:"dd/MM/yyyy","input-class":"form-control form-control-sm styleLine"},model:{value:e.employee.offBoardingDate,callback:function(t){e.$set(e.employee,"offBoardingDate",t)},expression:"employee.offBoardingDate"}})],1)],1),o("b-row",{staticClass:"mt-1"},[o("b-col",{staticClass:"col-left",attrs:{cols:"1",offset:"1"}},[o("label",{attrs:{for:"profession"}},[e._v("Profession:")])]),o("b-col",{attrs:{cols:"2"}},[o("b-form-input",{staticClass:"form-control form-control-sm",attrs:{id:"profession",placeholder:"Enter employee profession"},model:{value:e.employee.profession,callback:function(t){e.$set(e.employee,"profession",t)},expression:"employee.profession"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:"workDesignation"}},[e._v("Designation:")])]),o("b-col",{attrs:{cols:"2"}},[o("b-form-input",{staticClass:"form-control form-control-sm",attrs:{id:"workDesignation",placeholder:"Enter employee work designation"},model:{value:e.employee.workDesignation,callback:function(t){e.$set(e.employee,"workDesignation",t)},expression:"employee.workDesignation"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:""}},[e._v("Department:")])]),o("b-col",{attrs:{cols:"2"}},[o("b-form-group",[o("b-input-group",{scopedSlots:e._u([{key:"append",fn:function(){return[o("searchSm",{attrs:{column1Key:e.searchDept.attr1.name,column1label:e.searchDept.attr1.label,column2Key:e.searchDept.attr2.name,column2label:e.searchDept.attr2.label,column3Key:e.searchDept.attr3.name,column3label:e.searchDept.attr3.label,fetchItem:e.fetchDepartmentCode,items:e.departmentList,totalRowsT:e.totalRows},on:{fetchD:e.fetchDepartmentList}})]},proxy:!0}])},[o("b-form-input",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"col-right form-control form-control-sm required-color",attrs:{required:"",placeholder:"Department code",title:"Enter department code"},on:{change:e.validateDepartmentCode},model:{value:e.employee.deptCode,callback:function(t){e.$set(e.employee,"deptCode",t)},expression:"employee.deptCode"}})],1)],1)],1)],1),o("b-row",{staticClass:"mt-1"},[o("b-col",{staticClass:"col-left",attrs:{cols:"1",offset:"1"}},[o("label",{attrs:{for:""}},[e._v("Contract:")])]),o("b-col",{attrs:{cols:"2"}},[o("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-custom-select-pref",options:[{text:"Choose...",value:null},{text:"Local",value:0},{text:"Expatriate",value:1},{text:"Part timer",value:1}],value:null},on:{change:function(t){return e.updateGosi()}},model:{value:e.employee.contractType,callback:function(t){e.$set(e.employee,"contractType",t)},expression:"employee.contractType"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:""}},[e._v(" Status:")])]),o("b-col",{attrs:{cols:"2"}},[o("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-custom-select-pref",options:[{text:"Choose...",value:null},{text:"Bachelor",value:0},{text:"Family",value:1},{text:"NA",value:3}],value:null},model:{value:e.employee.passage,callback:function(t){e.$set(e.employee,"passage",t)},expression:"employee.passage"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:""}},[e._v("Tickets:")])]),o("b-col",{attrs:{cols:"2"}},[o("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-custom-select-pref",options:[{text:"Choose...",value:null},{text:"Yearly",value:0},{text:"Once in 2 years",value:1},{text:"NA",value:2}],value:null},model:{value:e.employee.ticket,callback:function(t){e.$set(e.employee,"ticket",t)},expression:"employee.ticket"}})],1)],1),o("hr"),o("h5",{staticClass:"col-left"},[o("b-badge",[e._v("Financial information")])],1),o("b-row",{staticClass:"mt-1"},[o("b-col",{staticClass:"col-left",attrs:{cols:"1",offset:"1"}},[o("label",{attrs:{for:"basicSalary"}},[e._v("Basic Salary:")])]),o("b-col",{attrs:{cols:"1"}},[o("vue-numeric",{staticClass:"\n            form-control form-control-sm\n            styleLine\n            col-right\n            required-color\n          ",staticStyle:{"padding-right":"0px"},attrs:{placeholder:"",separator:",",precision:3,required:""},on:{change:function(t){return e.updateGosi()}},model:{value:e.employee.basicSalary,callback:function(t){e.$set(e.employee,"basicSalary",t)},expression:"employee.basicSalary"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:""}},[e._v("Pay Mode:")])]),o("b-col",{attrs:{cols:"1"}},[o("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-custom-select-pref",options:[{text:"Choose...",value:null},"Bank","Cash"],value:null},model:{value:e.employee.paymentMode,callback:function(t){e.$set(e.employee,"paymentMode",t)},expression:"employee.paymentMode"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:"bankCode"}},[e._v("Bank Code:")])]),o("b-col",{attrs:{cols:"1"}},[o("b-form-input",{staticClass:"form-control form-control-sm",attrs:{id:"bankCode",placeholder:""},model:{value:e.employee.bankCode,callback:function(t){e.$set(e.employee,"bankCode",t)},expression:"employee.bankCode"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:"acNumber"}},[e._v("Account No:")])]),o("b-col",{attrs:{cols:"2"}},[o("b-form-input",{staticClass:"form-control form-control-sm",attrs:{id:"acNumber",placeholder:""},model:{value:e.employee.acNumber,callback:function(t){e.$set(e.employee,"acNumber",t)},expression:"employee.acNumber"}})],1)],1),o("b-row",{staticClass:"mt-1"},[o("b-col",{staticClass:"col-left",attrs:{cols:"1",offset:"1"}},[o("label",{attrs:{for:"rentAllowance"}},[e._v("Rent :")])]),o("b-col",{attrs:{cols:"1"}},[o("vue-numeric",{staticClass:"\n            form-control form-control-sm\n            styleLine\n            col-right\n            group1-color\n          ",staticStyle:{"padding-right":"0px"},attrs:{placeholder:"",separator:",",precision:3},model:{value:e.employee.rentAllowance,callback:function(t){e.$set(e.employee,"rentAllowance",t)},expression:"employee.rentAllowance"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:"travelAllowance"}},[e._v("Travel:")])]),o("b-col",{attrs:{cols:"1"}},[o("vue-numeric",{staticClass:"\n            form-control form-control-sm\n            styleLine\n            col-right\n            group1-color\n          ",staticStyle:{"padding-right":"0px"},attrs:{placeholder:"",separator:",",precision:3},model:{value:e.employee.travelAllowance,callback:function(t){e.$set(e.employee,"travelAllowance",t)},expression:"employee.travelAllowance"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:"specialAllowance"}},[e._v("Special:")])]),o("b-col",{attrs:{cols:"1"}},[o("vue-numeric",{staticClass:"\n            form-control form-control-sm\n            styleLine\n            col-right\n            group1-color\n          ",staticStyle:{"padding-right":"0px"},attrs:{placeholder:"",separator:",",precision:3},model:{value:e.employee.specialAllowance,callback:function(t){e.$set(e.employee,"specialAllowance",t)},expression:"employee.specialAllowance"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:"otherAllowance"}},[e._v("Other:")])]),o("b-col",{attrs:{cols:"1"}},[o("vue-numeric",{staticClass:"\n            form-control form-control-sm\n            styleLine\n            col-right\n            group1-color\n          ",staticStyle:{"padding-right":"0px"},attrs:{placeholder:"",separator:",",precision:3},model:{value:e.employee.otherAllowance,callback:function(t){e.$set(e.employee,"otherAllowance",t)},expression:"employee.otherAllowance"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{attrs:{for:"nightShiftAllowance"}},[e._v("Night Shift:")])]),o("b-col",{attrs:{cols:"1"}},[o("vue-numeric",{staticClass:"\n            form-control form-control-sm\n            styleLine\n            col-right\n            group1-color\n          ",staticStyle:{"padding-right":"0px"},attrs:{placeholder:"",separator:",",precision:3},model:{value:e.employee.nshAllowance,callback:function(t){e.$set(e.employee,"nshAllowance",t)},expression:"employee.nshAllowance"}})],1)],1),o("b-row",{staticClass:"mt-1"},[o("b-col",{staticClass:"col-left",attrs:{cols:"1",offset:"1"}},[o("label",{attrs:{for:"housingBankAmount"}},[e._v("Eskan Bank:")])]),o("b-col",{attrs:{cols:"1"}},[o("vue-numeric",{staticClass:"\n            form-control form-control-sm\n            styleLine\n            col-right\n            group1-color\n          ",staticStyle:{"padding-right":"0px"},attrs:{placeholder:"",separator:",",precision:3},model:{value:e.employee.housingBankAmount,callback:function(t){e.$set(e.employee,"housingBankAmount",t)},expression:"employee.housingBankAmount"}})],1),o("b-col",{staticClass:"col-left",attrs:{cols:"1"}},[o("label",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Gosi Automatically calculated at Basic Salary *0.06 when contract type is Local",expression:"'Gosi Automatically calculated at Basic Salary *0.06 when contract type is Local'",modifiers:{hover:!0,top:!0}}],attrs:{for:"input-gosiAmount",title:"Gosi Calculateion"}},[e._v("Gosi:")])]),o("b-col",{attrs:{cols:"1"}},[o("vue-numeric",{staticClass:"\n            form-control form-control-sm\n            styleLine\n            col-right\n            group1-color\n          ",staticStyle:{"padding-right":"0px"},attrs:{placeholder:"Gosi Automatically calculated",title:"Gosi Automatically calculated at Basic Salary *0.06 when contract type is Local",separator:",",precision:3},model:{value:e.employee.gosiAmount,callback:function(t){e.$set(e.employee,"gosiAmount",t)},expression:"employee.gosiAmount"}})],1)],1),o("b-row",{staticClass:"mt-2"}),o("hr"),o("h5",{staticClass:"col-left"},[o("b-badge",[e._v("Guarantee information")])],1),o("b-row",{staticClass:"mt-3"},[o("b-col",{attrs:{cols:"2",offset:"1"}},[o("b-form-checkbox",{attrs:{id:"checkbox-1",name:"telephoneGuarantee",value:"0","unchecked-value":"1"},model:{value:e.employee.telephoneGuarantee,callback:function(t){e.$set(e.employee,"telephoneGuarantee",t)},expression:"employee.telephoneGuarantee"}},[e._v("Telephone Guarantee")])],1),o("b-col",{attrs:{cols:"2"}},[o("b-form-checkbox",{attrs:{id:"checkbox-2",name:"electricityGuarantee",value:"0","unchecked-value":"1"},model:{value:e.employee.electricityGuarantee,callback:function(t){e.$set(e.employee,"electricityGuarantee",t)},expression:"employee.electricityGuarantee"}},[e._v("Electricity Guarantee")])],1),o("b-col",{attrs:{cols:"3"}},[o("b-form-checkbox",{attrs:{id:"checkbox-3",name:"externalBankLoantelephoneGuarantee",value:"0","unchecked-value":"1"},model:{value:e.employee.externalBankLoanGuarantee,callback:function(t){e.$set(e.employee,"externalBankLoanGuarantee",t)},expression:"employee.externalBankLoanGuarantee"}},[e._v("External Bank Loan Guarantee")])],1),o("b-col",{attrs:{cols:"2"}},[o("b-form-input",{attrs:{id:"bankName",placeholder:""},model:{value:e.employee.bankName,callback:function(t){e.$set(e.employee,"bankName",t)},expression:"employee.bankName"}})],1)],1),o("hr"),o("b-row",{attrs:{"align-h":"center"}},[o("b-button",{staticClass:"mr-1",attrs:{variant:"dark"},on:{click:function(t){return t.preventDefault(),e.save()}}},[e._v("Save")]),o("b-button",{staticClass:"mr-1",attrs:{variant:"outline-dark"},on:{click:function(t){e.defaultState(),e.houseKeeping()}}},[e._v("Cancel")]),o("b-button",{staticClass:"mr-1",attrs:{variant:"secondary"},on:{click:function(t){e.setEmployeeFormDisplay(),e.houseKeeping()}}},[e._v("Close")])],1)],1)},a=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"h-35 d-inline-block",staticStyle:{width:"100%"}},[o("h2",{staticClass:"page-head"},[e._v("Employee Master ")])])}],s=o("2f62"),r=o("fa33"),c=o("d85e"),n=o.n(c),i=o("c9a3"),p={data:function(){return{newEmployee:!1,errors:[],searchDept:{attr1:{name:"id",label:"Department Code"},attr2:{name:"departmentName",label:"Department Name"},attr3:{name:"divisionName",label:"Division Name"}},departmentList:[],department:{},totalRows:0}},components:{Datepicker:r["a"],VueNumeric:n.a,searchSm:i["a"]},methods:{...Object(s["b"])(["resetPayrollVar","setEmployeeFormDisplay","saveEmployee","updateEmployee","fetchEmployee","defaultState","updateEmployeeRecord","updateGosiAmount"]),validateDepartmentCode(){this.fetchDepartmentCode(this.employee.deptCode)},async updateGosi(){console.log("contractType"+this.employee.contractType),0===this.employee.contractType?this.updateGosiAmount(.08*this.employee.basicSalary):this.updateGosiAmount(0)},async getEmployee(){const e=this.employee.id,t="http://localhost:8080/payroll/api/v1/employee/"+this.employee.id;try{const o=await fetch(t),l=await o.json();0===l.id?(console.log("no data"),this.defaultState(),console.log(l),this.employee.id=e,this.newEmployee=!0):(this.updateEmployeeRecord(l),this.newEmployee=!1,console.log(l))}catch(o){console.error(o)}0!==this.message.length&&this.$toasted.show(this.message,{theme:"bubble",position:"top-right",duration:5e3})},fetchDepartmentCode(e){this.errors=[];const t="http://localhost:8080/payroll/api/v1/department/"+e;fetch(t).then(e=>e.json()).then(e=>{this.department=e,console.log(this.department),this.employee.deptCode=this.department.id}).catch(e=>{alert(e)})},showErrorMessage(e){this.$toasted.show(e,{theme:"bubble",position:"top-right",duration:5e3})},checkForm:function(e){if(console.log("checking form data"),this.errors=[],0===this.employee.empCode&&this.errors.push("Code Required."),this.employee.empName||this.errors.push("Name Required."),this.employee.empName.length>40&&this.errors.push("Name should not be more than 40 chr"),this.employee.empName.length<3&&this.errors.push("Name should be at least 3 chr"),this.employee.deptCode||this.errors.push("Department Required."),this.employee.cprNo||this.errors.push("Employee CPR Required."),this.employee.basicSalary||this.errors.push("Basic Salary Required."),!this.errors.length)return!0;this.errors.unshift("Fields highlighted in yellow are required, please enter following ..")},houseKeeping(){this.errors=[]},async save(){this.checkForm(),this.errors.length?this.$toasted.show(this.errors,{theme:"bubble",position:"top-right",duration:5e3}):(this.newEmployee?await this.saveEmployee(this.employee):await this.updateEmployee(this.employee),this.$toasted.show(this.message,{theme:"bubble",position:"top-right",duration:5e3})),this.houseKeeping()}},computed:{...Object(s["c"])(["employee","message"])}},m=p,u=(o("e8d0"),o("2877")),d=Object(u["a"])(m,l,a,!1,null,"686d6e15",null);t["default"]=d.exports},"3dab":function(e,t,o){},e8d0:function(e,t,o){"use strict";o("3dab")}}]);
//# sourceMappingURL=chunk-6ebcbdfd.b0e8b35d.js.map